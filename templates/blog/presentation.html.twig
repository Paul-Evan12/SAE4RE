{% extends 'base.html.twig' %}

{% block title %}Présentation - Mon Portfolio{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    
    {# 1. Le style global #}
    <link rel="stylesheet" href="{{ asset('css/style.css') }}">
    
    {# 2. Le style spécifique au carrousel #}
    <link rel="stylesheet" href="{{ asset('css/carousel.css') }}">
{% endblock %}

{% block body %}
    <nav>
        <ul class="navbar">
            <li><a href="{{ path('app_index') }}">Accueil</a></li>
            <li><a href="{{ path('app_blog_competences') }}">Compétences</a></li>
            <li><a href="{{ path('app_blog_cv') }}">CV</a></li>
        </ul>
    </nav>

    <div class="container">
        <h1>Présentation</h1>
        <p>Je suis <strong>Paul-Evan</strong>, étudiant en Réseau et Télécommunication à Roanne.</p>
        <p>En R&T, mon métier consiste à connecter des machines. Dans la vie, je m'attache à connecter les humains. Étudiant passionné par l'architecture des réseaux, je ne conçois pas ma vie derrière un écran 24h/24.</p>
        <p>Dès que je quitte les amphis, je passe en mode 'actif'. Que ce soit sur un terrain de sport pour me défouler ou lors de sorties nocturnes avec mon groupe d'amis, je suis quelqu'un qui a besoin d'interaction. Cette énergie débordante et ce besoin de contact font de moi un collaborateur ouvert, dynamique et toujours prêt à s'intégrer dans un nouveau collectif.</p>
        <h2>Voici mon parcours avant de rentrer dans cette licence:</h2>
        <h2 style="font-size:2em;font-weight:bold;margin-top:30px;"><u>Parcours</u></h2>
        <div style="font-size:1em;margin-top:15px;line-height:2;">
            <a href="https://www.mongre.org/" target="_blank" style="color:#fff;text-decoration:underline;">Lycée: Notre Dame de Mongré, 2021-2024 (Villefranche sur Saône)</a><br>
            <a href="https://www.fdse.unilim.fr/" target="_blank" style="color:#fff;text-decoration:underline;">Fac de droit 2024-2025 (Limoges)</a><br>
            <a href="https://iut-roanne.univ-st-etienne.fr/fr/index.html" target="_blank" style="color:#fff;text-decoration:underline;">Réseaux et Télécommunication, 2025-2026 (Roanne)</a>
        </div>
        <br>

        <h2 style="font-size:2em;font-weight:bold;margin-top:40px;">Loisirs</h2>

        <div class="carousel-wrapper">
            <button class="ctrl prev" id="prevBtn" aria-label="Précédent">‹</button>
            <div class="carousel-viewport">
                <img id="mainImage" src="https://static.bandainamcoent.eu/high/elden-ring/elden-ring/00-page-setup/elden-ring-new-header-mobile.jpg" alt="Loisir" style="max-width:350px;max-height:220px;object-fit:cover;">
            </div>
            <button class="ctrl next" id="nextBtn" aria-label="Suivant">›</button>
        </div>
        <div class="info-panel" id="infoPanel">
            <h3 id="loisirTitle">Gaming</h3>
            <p id="loisirDesc">J'aime jouer pour le challenge, la stratégie et la communauté. Le gaming me permet de me détendre tout en développant ma réflexion.</p>
        </div>
        <br>
        <a href="{{ path('app_index') }}" class="btn">Retour à l'accueil</a>
    </div>

    <footer style="position:fixed;bottom:0;left:0;width:100%;background:#333;color:#fff;padding:12px 0;z-index:999;text-align:center;">
        <div style="display:flex;flex-direction:column;align-items:center;gap:6px;">
            <div style="display:flex;align-items:center;gap:12px;">
                <a href="https://www.instagram.com/paulevan_rt/" target="_blank" rel="noopener" aria-label="Instagram" style="color:#fff;font-size:20px;display:inline-flex;align-items:center;">
                    <i class="bi bi-instagram" aria-hidden="true"></i>
                </a>
                <span style="margin-left:1em;">| Gmail: <a href="mailto:paulevanfr@gmail.com">paulevanfr@gmail.com</a></span>
                <span style="margin-left:1em;">| Téléphone: <a href="tel:0624525467">06 24 52 54 67</a></span>
            </div>
            <div>site créé par Paul-Evan Fourré-Rossetto.</div>
        </div>
    </footer>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
   <script>
        document.addEventListener('DOMContentLoaded', function () {
            (function () {
                const items = [
                    {
                        title: 'Gaming',
                        img: 'https://static.bandainamcoent.eu/high/elden-ring/elden-ring/00-page-setup/elden-ring-new-header-mobile.jpg',
                        desc: "J'aime jouer pour le challenge, la stratégie et la communauté. Le gaming me permet de me détendre tout en développant ma réflexion."
                    },
                    {
                        title: 'Basketball',
                        img: 'https://sportsogood.fr/wp-content/uploads/2021/10/basketball.png',
                        desc: "Le basket m'offre un esprit d'équipe, du dépassement et une activité physique qui me recentre."
                    },
                    {
                        title: 'Karting',
                        img: 'https://blog.babasport.fr/wp-content/uploads/2016/06/Karting-4.jpg',
                        desc: "Le karting me passionne pour la vitesse, la technique et l'adrénaline, c'est un loisir stimulant."
                    }
                ];

                // preload images
                items.forEach(i => { const p = new Image(); p.src = i.img; });

                let idx = 0;
                const mainImage = document.getElementById('mainImage');
                const titleEl = document.getElementById('loisirTitle');
                const descEl = document.getElementById('loisirDesc');
                const prevBtn = document.getElementById('prevBtn');
                const nextBtn = document.getElementById('nextBtn');

                function render(i) {
                    const it = items[i];
                    mainImage.style.transition = 'opacity 220ms ease';
                    mainImage.style.opacity = 0;
                    setTimeout(() => {
                        mainImage.src = it.img;
                        titleEl.textContent = it.title;
                        descEl.textContent = it.desc;
                        void mainImage.offsetWidth;
                        mainImage.style.opacity = 1;
                    }, 200);
                }

                function goTo(index) {
                    idx = (index + items.length) % items.length;
                    render(idx);
                    resetTimer();
                }

                prevBtn && prevBtn.addEventListener('click', function (e) {
                    e.stopPropagation();
                    goTo(idx - 1);
                });

                nextBtn && nextBtn.addEventListener('click', function (e) {
                    e.stopPropagation();
                    goTo(idx + 1);
                });

                document.addEventListener('keydown', function (e) {
                    if (e.key === 'ArrowLeft') goTo(idx - 1);
                    if (e.key === 'ArrowRight') goTo(idx + 1);
                });

                let timer = setInterval(() => { idx = (idx + 1) % items.length; render(idx); }, 4500);
                function resetTimer() { clearInterval(timer); timer = setInterval(() => { idx = (idx + 1) % items.length; render(idx); }, 4500); }

                render(idx);
            })();
        });
    </script>
{% endblock %}
{% extends 'base.html.twig' %}

{% block title %}CV - Téléchargement{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/style.css') }}">
{% endblock %}

{% block body %}
<nav>
    <ul class="navbar">
        <li><a href="{{ path('app_index') }}">Accueil</a></li>
        <li><a href="{{ path('app_blog_presentation') }}">Présentation</a></li>
        <li><a href="{{ path('app_blog_competences') }}">Compétences</a></li>
    </ul>
</nav>
<div class="cv-form-container" style="text-align:center;">
    <h1>Mon CV</h1>
    <form id="cvDownloadForm" autocomplete="off">
        <label for="nom">Votre nom :</label>
        <input type="text" id="nom" name="nom" required>
        <label for="email">Votre email :</label>
        <input type="email" id="email" name="email" required>
        <div class="cv-viewer" style="margin:32px auto;max-width:700px;">
            <iframe src="https://drive.google.com/file/d/1N5EOgMP0PQesK1lusT3k--z5RvPAkvZZ/preview" width="100%" height="480" style="border-radius:12px;border:2px solid #444;background:#111;box-shadow:0 2px 16px #0006;" allowfullscreen></iframe>
        </div>
        <div style="display:flex;justify-content:center;gap:18px;margin-top:18px;">
            <button id="cvViewBtn" type="button" class="btn" style="font-size:1.15em;">Visualiser le CV PDF</button>
        </div>
        <div id="cvMessage" style="color:#0f0;font-weight:bold;margin-top:12px;"></div>
    </form>
</div>
<footer style="position:fixed;bottom:0;left:0;width:100%;background:#333;color:#fff;padding:12px 0;z-index:999;text-align:center;">
    <div style="display:flex;flex-direction:column;align-items:center;gap:6px;">
        <div style="display:flex;align-items:center;gap:12px;">
            <a href="https://www.instagram.com/paulevan_rt/" target="_blank" rel="noopener" aria-label="Instagram" style="color:#fff;font-size:20px;display:inline-flex;align-items:center;">
                <i class="bi bi-instagram" aria-hidden="true"></i>
            </a>
            <span style="margin-left:1em;">| Gmail: <a href="mailto:paulevanfr@gmail.com">paulevanfr@gmail.com</a></span>
            <span style="margin-left:1em;">| Téléphone: <a href="tel:0624525467">06 24 52 54 67</a></span>
        </div>
        <div>site créé par Paul-Evan Fourré-Rossetto.</div>
    </div>
</footer>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        document.getElementById('cvViewBtn').onclick = function() {
            window.open('https://drive.google.com/file/d/1N5EOgMP0PQesK1lusT3k--z5RvPAkvZZ/view?usp=sharing', '_blank');
        };
    </script>
{% endblock %}
